[TOC]

# Android 面试


***面试一定要自信，对自己不会的就直接说没研究到，千万不要不会了，还硬答***


## Java部分

- HashMap源码（必问）
- ArrayList源码：扩容机制
- 线程池运行机制，参数及应用场景
- synchronized、volatile、CAS、ReentrantLock，要掌握
- 类加载机制（双亲委托模式）
- GC 包括定义垃圾对象的算法，垃圾回收的算法（要知道每个算法的优缺点），还有新生代老年代的回收机制和用到的算法
- 反射、范型
- ThreadLocal
- 线程
- ConcurrentHashMap，最好掌握其源码
- 手写DoubleCheck单例，并讲出每一步的原因

## Kotlin部分

- kotlin的一些优点
- 扩展方法的原理
- kotlin单例
- 序列和集合的区别
- kotlin的高阶函数
- apply、let、run、also、with的区别
- 协程
- ViewModel、LifeCycle、DataBinding原理

## Android部分

- 自定义view的流程，最好从setContentView开始讲，讲到最终绘制三大步结束，基本满分
- View事件传递，基本是给个场景，重点在于ViewGroup的dispatchTouchEvent的源码，一定要看透
- 从Launcher启动应用的整个流程，也就是activity的启动流程
- Handler机制，一定要完全掌握，消息屏障
- View的相关动画，尽量掌握
- RecyclerView的缓存机制，场景分析bindViewHolder到底走了多少次？
- RecyclerView的高级用法，比如DiffUtils，局部刷新某个item的某个view，SpanSize的用法
- MVC、MVP、MVVM，开发中怎么做的，三种架构的优点和缺点
- 三方框架，okhttp、retrofit、eventbus、leakcanary、glide，一定要看懂其中一个框架的原理，基本都是让你挑一个三方框架来讲
- 性能优化方面：启动优化、图片优化、内存优化、电量优化、卡顿优化
- 组件化、插件化、热修复；组件化之间的数据传递，Arouter的原理
- ANR的场景，如何在ANR发生前监测（ANRWatchDog）

## 项目部分

- 项目中一定要挑出两三个亮点，吃透
- 实在没亮点的项目的话，就可以从性能优化方向着重吃透两个方向，来当作你在项目中做的好的地方

## 算法

- 数组相关（如：无序数组，将基数放左边，偶数放右边）
- 链表相关（如：合并两个有序链表；判断链表是否有环；链表有环的话，找出环形的入口节点；判断两个链表是否相交）
- 二叉树相关（如：二叉树的深度）
- 动态规划相关（如：青蛙蹦台阶问题）
- 算法题基本中大厂每轮都问，LeetCode刷题至少200道，可以只刷简单和中等的


## 大厂面试


### 面试题分享：
1.handler机制
2.HaspMap原理，哈希算法，扩容机制，是否线程安全，
3.工作中遇到的内存泄露问题，是怎么解决的
4.工作中遇到什么原因造成的OOM问题，是怎么解决的
5.okhttp,rxjava,retrofit等主流框架原理，这个是根据简历上写来问题的
6.设计模式，例如单例模式，观察者模式等
7.自定义view绘制流程，写自定义view，要注意什么


### 深圳创维旗下公司

设计模式（单例、观察者、工厂、建造者等等，说一下自己用过的）
DCL单例为什么不安全
MVC、MVP、MVVM优缺点
自定义View、Android事件分发
应用瘦身、内存优化、性能优化
Handle通信过程
第三方优秀开源框架（OKHttp、Glide、EventBus等）
数据结构内容（判断两个双单向链表是否相交等）
平时在工作中遇到过哪些问题？最后怎么解决的？
MediaCodec、FFmpeg音视频相关知识
假如让你设计一个播放器，你怎么做？（软编硬编、兼容低版本）
最重要是简历上的东西一定要非常非常熟练



### B站
1面
1 Java虚拟机原理， ART虚拟机原理 区别，字节码怎么机器码
2 JVM 相关（GCROOT，回收算法，分区）
3 Kotlin Flutter Java 区别，底层原理，理解
4 GPU 高速缓存 内存，指令
5 组件化
6 APM性能体系
7 binder sockot，管道，信号量等进程间通信
8 线程安全锁 相关
9 kotlin  ? !! 原理

3面
1 你是怎么做架构设计的
2 Java kt 是你怎么理解的，从语言，平台等说出你的理解
3 说出你遇到最有挑战性的事及你是怎么解决的
4 ==  equals 区别
5 arraylist hashmap(原理，使用场景，安全等等，扩展到sparearray，concurrenthashmap)
6 i++ 理解，扩展到 synchronized CAS等等









### 拟合未来科技有限公司
"1面
自定义view、Handler机制、组件化和插件化、HashMap的源码、retrofit和okhttp的源码用到了哪些设计模式、NDK静态库和动态库编译流程、openGL渲染模式、Android中的动画有哪些它们之间的区别、谈谈mvvm"
"2面
讲之前做的项目负责哪块，根据业务采用什么架构、使用过哪些设计模式，项目中遇到哪些棘手的问题，如何解决的。"
"3面
这个是hr说，整体问下以前公司的情况等问题"
自己简历上写的东西要熟悉，基本面试官都是根据简历来问的。对自己以前做的项目也好好梳理，提前组织好语言，挖掘项目闪光点。



### 百度
T4
手百开发
1:java引用，以及引用队列，以及使用场景2：拆装箱 3：LeakCanary   4：map 5:线上性能监控 6：SharedPrefrence 遇到的问题   7;手写算法
1：Handler2:进程间通信 3：序列化4：动画，5：native崩溃捕获原理6：结合项目提问 7：Recyclerview的点击事件原理 8：启动一个空的apk，回启动几个线程  9：手写算法
1：跳槽原因2：原来公司规模3:预期薪资4：个人优势
1;简历上写的一定要了解，并且知道原理2：多熟悉项目，找出一些能聊得功能点 3：崩溃捕获，以及解决(java ,native)4：优化需要知道(大厂都会问) 5：了解由点到面，需要把知识连贯起来6;还有如果想要高薪，一定要多跳槽，一般大厂工资涨幅都是有限度的，最高涨幅百分之30,除非你特别牛皮




### 阿里巴巴
P5
音视频开发
"1面
1.MediaCodec连环炮：MediaCodec报错，只有错误码，没有任何其它信息，如何解决？使用MediaCodec遇到了哪些问题?同步使用和异步使用有什么区别？
2.如何计算音频帧，一帧音频帧有多大
3.YUV基础知识，相比于RGB减少了多少空间，YUV 各个分量都是0实际渲染出来是什么颜色的，NV21和NV12有什么区别
4.MP4是如何存储音视频文件的，它是什么结构
5.OpenSL 相关的问题，如何使用。可以干什么不可以干什么
6.结合项目问题"
"2面
1.SurfaceView和TextureView区别
2.OpenGL ES相关问题，MVP矩阵左乘和右乘有什么区别，什么是外部纹理，为什么叫外部
3.OpenGL如何渲染一个View
4.VBO是用来干嘛的解决什么问题
5.结合项目问问题"
"3面
1.项目是什么架构，如何设计的，为什么这么设计
2.算法题：字符串反转
3.平时如何学习的"
音视频开发感觉OpenGL ES问的比较多，这方面多看看LearnOpenGL这个网站的教程，多加体会。





### 中软国际
荣耀手机内置APP-主要负责推送
"1面
问的项目中哪些用到了hook技术，是怎么实现的，Okhttp底层原理，点击应用图标的启动流程，hashmap在java7和java8的区别，为什么要引入红黑树"
"2面
项目是怎么搭建的，用到了哪些技术点，arouter用到了什么技术点，是用来解决什么问题，socket底层原理，是如何带领团队的，一个功能是如何从分析需求到落地的"

主要简历要写的好，尽量围绕简历上的点来刷面试题，不一定都要研究透彻，被问到自己不熟的点，可以尽量尝试着往自己熟悉点带，例如之前我被问到pms是怎么管理package信息的，我就说目前我对pms了解不深，主要也是研究了ams，然后就把自己了解的说一下就好了，如果实在没什么好答得，就说目前我在腾讯课堂买了一个课程，里面有讲这块的内容，但现在还没讲到等等。还有就是自己项目尽量也要多熟悉一下，别人问到也可以有说的点







### 杭州红花朵朵
"1面
Fragment和Activity生命周期联动，及Fragment显示与隐藏的一些方法，Handler原理， View绘制流程，事件分发，APP从安装到启动都做了什么，设计模式相关，"
"2面
线程都有那些状态，线程锁相关的东西，对称与非对称加密，HTTPS请求过程，数组，链表，红黑树二叉树等一些数据结构相关的东西，还有一些开放性的问题"
hr面试，自由回答
基础最重要，不仅要会用，还要知道其中的原理，会根据你的回答逐渐深入





### 京东到家
p2-2
到家组-到家APP开发

"1面
线程，进程，消息，通信，handler，okhttp"
"2面
事件分发，java一些基础，算法"
"3面
项目"
"除了技术，沟通，
理解能力要好"





### apus
T3
应用开发-主要负责图片功能处理
3次
"问了java基础,java synchronized和volatile 关键字的作用，
问了hashMap数组大小为什么是2的次方，如果经过一次扩容，元素下标会变吗，sharedPreference commit与apply的区别，还有apply为什么会造成anr，view的绘制流程，如何检测应用帧率，gradle的一些知识（没答出来，具体问题忘了）"
2面可能是看我对view的绘制流程比较了解 就主要问了这一块的内容，测量 布局 绘制，然后拿出了一个效果，问我怎么实现
hr说公司是北京和郑州这边协同办公，经常要和那边协作，如果出了问题，如何解决
基础要熟悉，如果一面有哪一个方向回答的好的话，二面可能接着这个方向具体深入





### 软通动力(华为外包)
华为智慧搜索 app
3 次
"一般都是只有一面，面试问题比较深比较基础，
主要是Java 基础、Android 基础、系统启动原理、Handler、Binder、kotlin、JVM 虚拟机的知识，除此之外有问到性能优化，热修复、第三方库原理这些知识。
还问了一下项目中遇到的问题和解决方案。"


面试技巧的话，我的经验就是抓住每一个知识点的核心，因为面试的时间缘故，面试官通常都是关心问题核心点，把核心点说出来，就代表你会了





### 北京小米移动软件有限公司
3面
一面，两个面试官（一个我们小组Android的leader，一个是同事），上来先当着他们的面写了一个笔试题（都是很基础的题没啥难度，算法题也就是一个list的反转，但是小米比较注重手写代码的一些细节，所以要考虑好该判空的判空，还有防止越界啥的问题），然后就开始问，90%都在问Java基础（GC的机制，GC算法，内存相关的问的比较多，多线程线程安全问题是如何发生的，HashMap的原理）
二面，我们组的主管（全程聊项目，没有问技术相关的了，然后介绍了一下这个部门的工作内容啊之类的）
三面，本来应该有三面…三面是我们部门的领导，但是因为一些其他的原因吧，三面就没有面直接过了
其实自已算是运气好，遇到的问题算是偏容易的，要多看看算法方






### 腾讯音乐
5面
5次都是技术面， activity和service的生命周期与使用场景，thread和服务的差别，单例的类型，多少种?优缺点说一下？死锁的原因与场景，单例的使用场景，使用过啥来源框架，有啥特点，为什么，从中学到了什么？kotlin的特点与java的差别，三种架构的区别handler和view的原理，线程池原理与种类，javastackoverflow的原因，性能优化和卡顿优化的实际案例，虚拟机的构成与原理，热修复和插件化的区别与原理，rxjava源码，多线程应该注意的问题，databinding原理，binder原理，网络方面知识，平时解决问题的流程
基础知识肯定得背，然后也得知道为啥是这样，算法会问到，还有就是开放式问题，他想知道你怎么解决问题的，过程重要，怎么发现和定位的平时学习的方法






### 美团
3面
"1.java的话static变量各种访问可见性，final关键字的作用，封装继承多态展开问，多线程通讯，线程池原理，线程同步方式，jvm内存模型，常见的gc算法，类加载过程
2.网络的话主要是问的https，http1/2/3的区别特性；Android问了一些常见的handler原理，recycleview缓存机制，view事件的分发
3.glide缓存机制
4. 然后引申如何实现我LRU，内存泄露和如何预防处理
5.算法的话，有top-k排序（堆排序，位图法），旋转输出矩阵，链表逆序，hashmap concurrenthashmap原理，线程安不安全，它的锁机制等等"








### 字节跳动
4面
"一面：
1.插件化，启动activity的hook方式，taskAffity
2.okhttp支持HTTP2?http2的功能有哪些?tcp方面拥塞控制?tsl的握手和具体的非对称加密算法。非对称名称
3.handler的post（Runnable）如何实现的。callback，rumnable，msg的执行优先级。
4.阻塞是怎么实现的?为什么不会阻塞主线程
5.求二叉树中两个节点之间的最大距离。
6.206含义，未修改资源是哪个，302含义，301含义
7.多进程通信问题。binder优势。aidl生成的java类细节。多进程遇到哪些问题
8.动态代理传入的参数都有哪些?非接口的类能实现动态代理吗ASM的原理
9.Application和Activity在Context的继承树上有何区别?二者使用上有何不同
10.任意一颗二叉树，求最大节点距离"
"二面:
1.设计一个日志系统
2.内存泄露的分类。怎么查看内存泄露的问题
3.touch事件源码问题.
4.组件化的问题。module和app之间的区别。moduler通信是如何实现的。
5.native奔溃的日志采集，怎么处理
6.注解实现一个提示功能∶如果int的值大于了3需要提示。"
"三面
1.介绍下flutter的启动流程
2.介绍下flutter与weex的区别
3.组件化介绍一下
4.webview中与js通信的手段有哪些?
5.介绍下flutter_boost的原理"
"四面 
1.适配器和装饰模式各自特点和使用场景
2.视频编解码是怎么做的
3.三色球排序"



#### 字节跳动2
3轮技术
"SharedPreferences线程安全吗
SharedPreferences多进程调用会有问题吗?如果需要多进程调用，怎么实现
自己在项目代码中写一个java.lang.String类会有问题吗
内存泄漏除了用LeakCanary还有没有其他办法检测
如何监控线上内存泄漏
native的内存泄漏怎么监控
如何监控线上00M，如何知道是哪里造成的ooM 
Error和Exception的区别
怎么监控应用中的线程，都是在哪创建的（AOP）
post一个延迟5秒的消息，怎么做到5秒后才执行的
同步屏障原理
ContentProvider初始化的时机
组件化-A组件要调用B组件的某个功能，怎么调用（回答了接口下
沉，AutoService等等）
组件化-如果不用接口下沉，没有任何依赖，怎么方便的调用（不让用反射，太麻烦）
A进程调用B进程的b方法（AIDL实现的，B进程有个服务），B进程没有创建的情况下，B进程中是b方法先执行还是Application的onCreate方法先执行?如果b方法很耗时，A进程会被阻塞住吗
"
"算法:写一个二叉树的层序遍历数据库的索引原理
B+树和二叉树的区别，性能对比
HashMap的缺点，怎么解决
ArrayMap的原理，为什么内存消耗低
flutter与其他跨平台方案对比，flutter为什么好（除了跨平台），跟原生的性能比怎么样
硬件加速的原理"









### 汇丰银行
"1.线程池的工作原理
2.synchronized锁方法和锁静态方法有什么区别
3.锁的理解，什么是乐观锁，悲观锁，可重入锁
4.View的事件分发流程
5.View的三种测量模式理解，什么时候会发生Excatly
6.HashMap的工作原理。
7.怎么实现多线程下载，断点续传怎么实现。8.rxjava的背压了解吗
9.kotlin的协程，怎么做到和rxjava的zip操作一样，等待所有结果后再处理"








### 阿里
一面
1.apk启动流程
zgot fork出一个进程到 从ActivityThread的main方法，再到AMS 再到Intrumention启动
2.你刚讲到了handler，那你说一下你对handler的理解，怎么用java实现一个handler
message messageQueen Looop Handler ThreadLocal 都讲一下对应的作用
二面
1.说下你做的应用商店感觉最难的点在哪
2.为什么选用Fresco作为图片加载框架
3.安卓系统版本之间对Bitmap怎么处理的
安卓2.3之前把像素数据存储在native层中，之后的系统把byte存
三面
1.你觉的你做的项目最有挑战性的是什么
2.你是怎么做技术选型的，说一下为什么选用CC而没有选ARouter，你在用组件化框架的时候有没有遇到什么问题
3.MVC和MVVM，MVP说一下你的理解
4.你对你负责的项目在性能优化上做了哪些努力
5.你平时是怎么学习的
6.你对自己的未来职业规划是怎么样的"



### 腾讯
3轮技术1轮hr
"一面
1.mvp mvvm区别的,mvvm中的databinding如何刷新view
2.跨进程通信方式，binder机制
3.leakcanary原理
4.内存优化和工具，APK瘦身
5.get和post的区别，浏览器中输入一个地址然后展示出页面这个过程中做了哪些操作
6.断点续传和下载的原理
7.glide缓存原理，lru算法
8.动态代理原理
二面
1.java虚拟机
2.内存优化
3.arraylist hashmap linkedhashmap
4.binder 
5.surfaceView和view 
6.AMS WMS
7.APK瘦身
8.锁（死锁的场景和解决方案）
9.算法    两个字符串  比较最大的公共字符串,主要是思路
（面对问题，以大化小）
"
"三面
1.http优化 okhttp多路复用
2.硬币兑换问题  【算法】
3.车的通过问题，一条路上，30分钟内看到有车通过的概率是90%，那么5分钟之内概率是多少
4.图的展现形式
5.全球货币转换功能的代码
6.给你一个整数数组  nums  ，请你求出乘积为正数的最长子数组的长度"







### WPS
3轮技术
"1.线程切换（handler机制）
2.多线程，几种锁，有什么区别
3.如何实现线程排队
4.Https加密机制5.项目经验
6.okhttp原理
7.设计一个线上日志收集系统
8.项目经验
9.Activity启动流程
10.性能优化
11.Viewstub实现原理，自己设计一个类似的
12.Https如何保证安全的，如何防止中间人攻击，可以伪造证书吗13.Looper死循环为什么不会导致主线程卡死
14.epoll机制是怎么样子的
15.热修复资源id冲突怎么解决
16.AIDL如何实现的
17.Binder原理
面试都是开发性问题，大部分是项目经验"




